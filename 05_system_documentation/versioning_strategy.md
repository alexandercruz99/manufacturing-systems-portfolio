# Versioning Strategy

## API Versioning

The Product Configurator System uses URL-based versioning for API endpoints. Current version: **v1**.

### Version Format

- Major version in URL: `/api/v1/configurator/price`
- Swagger documentation includes version: `v1`

### Versioning Policy

- **Major Version (v1, v2, etc.)**: Breaking changes to request/response formats, removal of endpoints, or fundamental architectural changes
- **Minor Updates**: New optional fields, new endpoints, bug fixes (no URL change required)

## Configuration ID Stability

Configuration IDs are deterministic and stable across versions as long as:
- Input fields remain the same
- Normalization logic remains the same
- Hash algorithm remains the same (SHA-256)

### Breaking Changes to Configuration IDs

If the configuration ID generation algorithm must change:
1. Document the change in release notes
2. Provide migration path for existing configuration IDs
3. Consider maintaining backward compatibility for a transition period

## Code Versioning

### Semantic Versioning

Projects use semantic versioning in `.csproj` files:
- Major.Minor.Patch format
- Update when making releases

### Assembly Versioning

Assembly versions are managed by .NET SDK. To set explicit versions, add to `.csproj`:

```xml
<PropertyGroup>
  <Version>1.0.0</Version>
  <AssemblyVersion>1.0.0.0</AssemblyVersion>
  <FileVersion>1.0.0.0</FileVersion>
</PropertyGroup>
```

## Database Schema Versioning

Not applicable - system uses in-memory processing only. No database schema to version.

## Document Format Versioning

PDF documents generated by the system do not include explicit version numbers. If document formats change:

1. Add version metadata to PDF documents
2. Document format changes in release notes
3. Consider maintaining multiple document templates for backward compatibility

## Migration Strategy

When introducing breaking changes:

1. **Deprecation Period**: Announce deprecation of old version with timeline
2. **Parallel Support**: Maintain old version alongside new version during transition
3. **Migration Guide**: Provide step-by-step migration instructions
4. **Backward Compatibility**: Where possible, maintain backward compatibility through adapters

## Version History

### v1.0.0 (Initial Release)

- Product configuration API with pricing engine
- PDF document generation (Sales Sheet, Plant Instructions)
- Mock ERP integration API
- Deterministic configuration ID generation
- Validation and error handling
- Swagger documentation

## Future Version Considerations

### v2.0.0 (Potential Breaking Changes)

- Authentication and authorization
- Database persistence
- Advanced reporting
- Multi-tenant support
- Webhook notifications

### Non-Breaking Enhancements (v1.x)

- Additional product types
- Additional materials
- Additional configuration options
- Enhanced PDF templates
- Additional ERP endpoints
- Performance optimizations

